<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/core-style/core-style.html">
<link rel="import" href="tef_checkbox_styles.html">

<polymer-element name="tef-checkbox" attributes ="switch right block disabled checked">
    <template>
        <core-style ref="tef-checkbox"></core-style>
        <label class="{{resolveClass(switch, right, block, disabled)}}">
            <input id="myInput" checked="{{checked}}" type="checkbox">
            <span data-icon="{{switch ? '' : 'check'}}"><content></content></span>
        </label>
    </template>
    <script>
        Polymer({
            checked: false,
            right: false,
            block: false,
            disabled: false,
            switch: false,
            name: '',
            ready: function(){
                this.$.myInput.addEventListener("change", function(){
                    if (this.$.myInput.checked)
                        this.fire('checked')
                    else
                        this.fire('unchecked')
                }.bind(this));
            },
            resolveClass: function(right, block, disabled) {
                var localClass = '';
                localClass = this.switch ? 'tef-switch' : 'tef-checkbox'; 
                if (this.right) localClass += ' right';
                if (this.block) localClass += ' block';
                if (this.disabled) localClass += ' disabled';
                return localClass;
            }
        });
    </script>
</polymer-element>